<template name="rank">

	<div class="app-section app-section-top">

		<div class="app-section-inner">

			<h1>Rank</h1>

			<div class="rank-display-selection">
				<i class="fa fa-table" data-action="view-table-display"></i>
				<i class="fa fa-line-chart" data-action="view-line-chart-display"></i>
			</div>

			<div id="rank-display" class="spinner spinner-table-display">
				<div id="rank-table-display" class="table-list" style="margin: 0 auto;">
					<div class="table-list-row table-list-header">
						<div class="table-list-cell center-aligned-cell" style="flex: 0 0 65px;">Rank</div>
						<div class="table-list-cell">Name</div>
						<div class="table-list-cell right-aligned-cell" style="flex: 0 0 75px;">Won</div>
						<div class="table-list-cell right-aligned-cell" style="flex: 0 0 75px;">Lost</div>
						<div class="table-list-cell right-aligned-cell" style="flex: 0 0 75px;">Win %</div>
						<div class="table-list-cell" style="flex: 0 0 95px;">Elo</div>
					</div>

					{{#each profiles}}
						<div class="table-list-row {{getHighlightedClassIfCurrentUser}}">
							<div class="table-list-cell center-aligned-cell rank-cell" style="flex: 0 0 65px;">{{getRank @index}}</div>
							<div class="table-list-cell">{{getUserName ../users}}</div>
							<div class="table-list-cell right-aligned-cell" style="flex: 0 0 75px;">{{numberOfWin}}</div>
							<div class="table-list-cell right-aligned-cell" style="flex: 0 0 75px;">{{numberOfLost}}</div>
							<div class="table-list-cell right-aligned-cell" style="flex: 0 0 75px;">{{getWinRate}}</div>
							<div class="table-list-cell elo-rating-cell" style="flex: 0 0 95px;"><div>{{eloRating}}</div> {{> eloRatingChange}}</div>
						</div>
					{{else}}
						<div class="table-list-row">
							<div class="table-list-cell">There is no data to show...</div>
						</div>
					{{/each}}
				</div>

				<div id="rank-line-chart-display">
					<div class="display-chart-period">
						<span data-action="display-chart-all-time">All time</span> |
						<span data-action="display-chart-60-days">60 days</span> |
						<span data-action="display-chart-30-days">30 days</span> |
						<span data-action="display-chart-14-days">14 days</span> |
						<span class="active" data-action="display-chart-7-days">7 days</span>
					</div>
					<canvas id="rank-line-chart" width="650" height="400"></canvas>
				</div>
			</div>

		</div>

	</div>

</template>
