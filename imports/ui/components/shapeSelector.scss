$shape-number: 1;
$shape-list: 'random', 'half-circle', 'triangle', 'x', 'rectangle', 'hyphen', 'obelisk',
	'equal', 'magnet', 'crown', 'rhombus', 'hexagon', 'dot', 'ellipse', 'triple-colon';
$number-of-shapes: length($shape-list);

@mixin shape-content($position, $height) {
	transform: translateY(($position - 1) * -$height);
}

.shape-selector {
	display: flex;
	align-items: center;
	justify-content: center;

	.shape-selector-caret {
		margin-left: 10px;
	}

	&.shape-selectable {
		cursor: pointer;
	}
}

.shape-selector-container {
	display: inline-block;
	position: relative;
	overflow: hidden;
	width: 32px;
	height: 16px;

	.shape-content-scroller {
		background-image: url("/assets/component/shape/player-shapes-small.png");
		height: $number-of-shapes * 21px;
		width: 32px;
	}

	@each $shape in $shape-list {
		&.shape-#{$shape} .shape-content-scroller {
			@include shape-content($shape-number, 21px);
		}
		$shape-number: $shape-number + 1;
	}
}

.match-making-body {
	.shape-selector-container {
		width: 98px;
		height: 49px;

		.shape-content-scroller {
			background-image: url("/assets/component/shape/player-shapes-selection.png");
			height: $number-of-shapes * (49px + 5px);
			width: 98px;
		}

		@each $shape in $shape-list {
			&.shape-#{$shape} .shape-content-scroller {
				@include shape-content($shape-number, 49px + 5px);
			}
			$shape-number: $shape-number + 1;
		}
	}
}

.shape-selector-menu {
	display: none;
	position: absolute;
	padding: 3px;
	width: 153px;
	max-height: 175px;
	@include menubox;
	overflow-y: scroll;
	overflow-x: hidden;
	z-index: 9000;

	@include vertical-breakpoint(tablet) {
		max-height: 80px;
	}

	@include horizontal-breakpoint(mobile) {
		width: 115px;
		max-height: 115px;
	}

	.shape-selector-item {
		padding: 7px;
		overflow: hidden;
		display: inline-block;
		cursor: pointer;

		&:hover {
			background-color: $selectbox-background-color-hover;
		}

		&.selected-shape {
			background-color: $selectbox-background-color-selected;

			&:hover {
				background-color: $selectbox-background-color-selected-hover;
			}
		}
	}

	.shape-selector-container {
		display: block;
	}
}
