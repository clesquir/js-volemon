<template name="home">

	<div class="home-page app-section app-section-top">

		<div class="app-section-inner maximum-responsive-width">

			{{#if browserDoNotSupportsWebRTC}}
				<div class="warning-message">
					{{#if onMobile}}
						<p>Your mobile does not support WebRTC.</p>
						<p>Your experience may be deteriorated.</p>
					{{else}}
						<p>Your browser does not support WebRTC or it is not enabled.</p>
						<p>Your experience may be deteriorated.</p>
						<p>Please enable it or use a <em>better</em> browser.</p>
					{{/if}}
				</div>
			{{/if}}

			{{#if currentUser}}

				<div id="home-contents" class="view-selector-contents user-statistics-shown">
					<div class="view-selector swiper-selector">
						<i class="fa fa-pie-chart view-user-statistics" data-action="view-user-statistics" data-tooltip="Statistics"></i>
						<i class="fa fa-trophy view-user-achievements" data-action="view-user-achievements" data-tooltip="Achievements"></i>
						<i class="fa fa-list view-user-recent-games" data-action="view-user-recent-games" data-tooltip="Recent games"></i>
						<i class="fa fa-line-chart view-user-line-chart" data-action="view-user-line-chart" data-tooltip="ELO line chart"></i>
					</div>

					<div class="swiper-container home-swiper-container">
						<div class="swiper-wrapper">
							<div class="view-selector-content swiper-slide user-statistics" data-slide="user-statistics">
								<h2>Statistics</h2>

								{{> statistics}}
							</div>

							<div class="view-selector-content swiper-slide user-achievements" data-slide="user-achievements">
								<h2>Achievements</h2>

								{{> achievements}}
							</div>

							<div class="view-selector-content swiper-slide user-recent-games" data-slide="user-recent-games">
								{{> loading loadingMask="recentGamesLoadingMask"}}

								<h2>Recent games</h2>

								{{> recentGames userId=getUserId}}
							</div>

							<div class="view-selector-content swiper-slide user-line-chart" data-slide="user-line-chart">
								{{> loading loadingMask="lineChartDisplayLoadingMask"}}

								<h2>ELO line chart</h2>

								<div class="display-chart-period">
									<span data-action="display-chart-all-time">All time</span> |
									<span data-action="display-chart-60-days">60 days</span> |
									<span data-action="display-chart-30-days">30 days</span> |
									<span data-action="display-chart-14-days">14 days</span> |
									<span data-action="display-chart-7-days">7 days</span>
								</div>
								<div>
									<div id="rank-line-chart">
										<canvas id="rank-line-chart-canvas"></canvas>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

			{{else}}

				<p>Please <a class="clickable-link" data-action="user-log-in">log in</a> to get statistics on your profile!</p>

			{{/if}}

		</div>

	</div>

</template>
